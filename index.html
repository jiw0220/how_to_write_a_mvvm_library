<html>
    <head>
        <title>Mvvm</title>
    </head>
    <body>
        <div>
            <input type="text" sf-value="vm.message">
            <h1 sf-innerText="vm.message"></h1>
            <h2 sf-innerText="vm.message"></h2>
            <h3 sf-innerText="vm.message"></h3>
            <h4 sf-innerText="vm.message"></h4>
            <button onclick="vm.buttonClickHandler();">click me</button>
        </div>
        <my-comp id="mycomp" sf-msg="vm.message" sf-oncustomevent="vm.customEventHandler"></my-comp>
    </body>
    <script src="dist/sf.js"></script>
    <script>
        var sf = new SegmentFault();
        sf.registerViewModel("vm", new ViewModel());
        sf.registerComponent("my-comp","components/myComp.html");
        sf.registerComponent("my-comp2","components/myComp2.html");
        sf.init().then(()=>{
            document.getElementById("mycomp").addEventListener("customevent",function(e){
                console.log(e.data);
            });
        });

        function ViewModel() {
            this.message = "hello, SegmentFault";
            this.buttonClickHandler = function() {
                this.message = "clicked: " + this.message;
            };
            this.customEventHandler = function(e){
                console.log(e.data);
            }
            
        }
    </script>
</html>